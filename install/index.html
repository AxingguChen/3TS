<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="DependenceIn order to generate Makefile, compile the code, and link the databases.  It’s necessary to install:  CMake  ODBC  Database to be tested(e.g. mysql)  The connector corresponding to the datab">
<meta property="og:type" content="website">
<meta property="og:title" content="install">
<meta property="og:url" content="http://example.com/install/index.html">
<meta property="og:site_name" content="3TS-Coo | 3TS">
<meta property="og:description" content="DependenceIn order to generate Makefile, compile the code, and link the databases.  It’s necessary to install:  CMake  ODBC  Database to be tested(e.g. mysql)  The connector corresponding to the datab">
<meta property="og:locale">
<meta property="og:image" content="https://render.githubusercontent.com/render/math?math=W_1[x_1]W_2[y_1]R_2[x_1]R_1[y_1]">
<meta property="og:image" content="https://render.githubusercontent.com/render/math?math=W_1[x_1]W_2[y_1]R_2[x_1]C_2R_1[y_1]">
<meta property="article:published_time" content="2022-09-17T05:39:02.009Z">
<meta property="article:modified_time" content="2022-09-17T05:39:02.009Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://render.githubusercontent.com/render/math?math=W_1[x_1]W_2[y_1]R_2[x_1]R_1[y_1]">

<link rel="canonical" href="http://example.com/install/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : false,
    lang   : 'default'
  };
</script>

  <title>install | 3TS-Coo | 3TS
</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a target="_blank" rel="noopener" href="https://github.com/AxingguChen/3TS" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">3TS-Coo | 3TS</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-result">

    <a href="/result/" rel="section"><i class="fa fa-th fa-fw"></i>Result</a>

  </li>
        <li class="menu-item menu-item-install">

    <a href="/install/" rel="section"><i class="fa fa-sitemap fa-fw"></i>Install</a>

  </li>
        <li class="menu-item menu-item-contact">

    <a href="/contact/" rel="section"><i class="fa fa-archive fa-fw"></i>Contact</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
  
  

          <div class="content page posts-expand">
            

    
    
    
    <div class="post-block" lang="default">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">install
</h1>

<div class="post-meta">
  

</div>

</header>

      
      
      
      <div class="post-body">
          <h2 id="Dependence"><a href="#Dependence" class="headerlink" title="Dependence"></a>Dependence</h2><p>In order to generate Makefile, compile the code, and link the databases. </p>
<p>It’s necessary to install:</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://cmake.org/">CMake</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.unixodbc.org/">ODBC</a></p>
</li>
<li><p>Database to be tested(e.g. mysql)</p>
</li>
<li><p>The connector corresponding to the database (e.g. mysql-connector-odbc)</p>
</li>
<li><p>etc.</p>
</li>
</ul>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>To generate Makefile (all commands are executed under ‘3TS&#x2F;src&#x2F;dbtest’):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -S ./</span><br></pre></td></tr></table></figure>

<p>To complie the code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>For test cases, it specify in “do_test_list.txt”. Use “#” to exclude (comment) the test case.<br>We provide three levels of test cases, i.e., the basic cases (33 anomalies in the paper), the predicate cases, and the MDA cases (with multiple transactions and objects). For specific test cases to evaluate, we specify it in do_test_list.txt. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// to test all test cases</span><br><span class="line">cp t/bk_do_test_list_all.txt do_test_list.txt </span><br><span class="line"></span><br><span class="line">// to test only basic cases</span><br><span class="line">cp t/bk_do_test_list_basic.txt do_test_list.txt </span><br><span class="line"></span><br><span class="line">// to test only predicate cases</span><br><span class="line">cp t/bk_do_test_list_predicate.txt do_test_list.txt </span><br></pre></td></tr></table></figure>

<p>Edit “auto_test.sh” for database configurations (e.g., username, password). Edit “auto_test_all.sh” for databse (e.g., PostgreSQL, and MySQL) and isolation (e.g., SERIALIZABLE, REPEATABLE READ, READ COMMITTED, and READ UNCOMMITTED) configuration.</p>
<p>To run the test (under ‘3TS&#x2F;src&#x2F;dbtest’):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./auto_test_all.sh</span><br></pre></td></tr></table></figure>

<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><p>When generating the Makefile, you may get the following error message</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Could not find a package configration file provided by &quot;odbc&quot; with any of</span><br><span class="line">the following names:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">odbcConfig.cmake</span><br><span class="line">odbc-config.cmake</span><br></pre></td></tr></table></figure>

<p>To solve this error:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find / -name &quot;FindODBC.cmake&quot;</span><br><span class="line"></span><br><span class="line">//filepath is obtained by &quot;find&quot;</span><br><span class="line">cp filepath/FindODBC.cmake 3TS/src/dbtest</span><br></pre></td></tr></table></figure>

<p>Then update CMakeList.txt.</p>
<p>Write in:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set(CMAKE_MODULE_PATH $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;)</span><br></pre></td></tr></table></figure>

<p>Modify:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find_package(odbc REQUIRED) ---&gt; find_package(ODBC REQUIRED)</span><br></pre></td></tr></table></figure>

<h2 id="Analyze-an-anomaly-case-run-by-PostgreSQL"><a href="#Analyze-an-anomaly-case-run-by-PostgreSQL" class="headerlink" title="Analyze an anomaly case run by PostgreSQL"></a>Analyze an anomaly case run by PostgreSQL</h2><h3 id="Setup-PostgreSQL"><a href="#Setup-PostgreSQL" class="headerlink" title="Setup PostgreSQL"></a>Setup PostgreSQL</h3><p>Please check out the general environment <a href="doc/en/setup_db_environment">setup</a> and PostgreSQL <a href="doc/en/setup_db_postgresql">setup</a>.</p>
<p>Check if it successfully connects to PostgreSQL server by isql, </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isql pg -v</span><br></pre></td></tr></table></figure>

<p>Once the connected information showed, we are able to run our code to test designed anomaly schedules.</p>
<p>The anomaly test cases are Write-read Skew and Write-read Skew Committed, the schedules are as follows:</p>
<p>Write-read Skew : <img src="https://render.githubusercontent.com/render/math?math=W_1[x_1]W_2[y_1]R_2[x_1]R_1[y_1]"></p>
<p>Write-read Skew Committed : <img src="https://render.githubusercontent.com/render/math?math=W_1[x_1]W_2[y_1]R_2[x_1]C_2R_1[y_1]"></p>
<p>Under “src&#x2F;dbtest&#x2F;“ folder, add rat_dda_write_read_skew and rat_dda_write_read_skew_committed to “do_test_list.txt”.<br>Add the following to “auto_test_all.sh” for runing PostgreSQL with four isolation levels:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./auto_test.sh &quot;pg&quot; &quot;read-uncommitted&quot;</span><br><span class="line">./auto_test.sh &quot;pg&quot; &quot;read-committed&quot;</span><br><span class="line">./auto_test.sh &quot;pg&quot; &quot;repeatable-read&quot;</span><br><span class="line">./auto_test.sh &quot;pg&quot; &quot;serializable&quot;</span><br></pre></td></tr></table></figure>

<p>Run test by “.&#x2F;auto_test_all.sh”. The test result are in the following:</p>
<table>
<thead>
<tr>
<th>Isolation level</th>
<th>Write-read Skew (<a href="test_result/test_cases/rat_dda_write_read_skew.txt">SQL</a>)</th>
<th>Write-read Skew Committed (<a href="test_result/test_cases/rat_dda_write_read_skew_committed.txt">SQL</a>)</th>
</tr>
</thead>
<tbody><tr>
<td>Serializable</td>
<td>Rollback (<a href="test_result/centralizend_result/pg/serializable/rat_dda_write_read_skew.txt">result</a>)</td>
<td>Rollback (<a href="test_result/centralizend_result/pg/serializable/rat_dda_write_read_skew_committed.txt">result</a>)</td>
</tr>
<tr>
<td>Repeatable Read</td>
<td>Anomaly reported (<a href="test_result/centralizend_result/pg/repeatable-read/rat_dda_write_read_skew.txt">result</a>)</td>
<td>Anomaly reported (<a href="test_result/centralizend_result/pg/repeatable-read/rat_dda_write_read_skew_committed.txt">result</a>)</td>
</tr>
<tr>
<td>Read (Un)Committed</td>
<td>Anomaly reported (<a href="test_result/centralizend_result/pg/read-committed/rat_dda_write_read_skew.txt">result</a>)</td>
<td>Pass the test (<a href="test_result/centralizend_result/pg/read-committed/rat_dda_write_read_skew_committed.txt">result</a>)</td>
</tr>
</tbody></table>
<p>At serializbale level, both tested cases detected consecutive RW conflicts.<br>At Repeatable Read level, both generated two consecutive RW confilcts and allowed.<br>At Read (Un)Committed level, Write-read Skew test case generated two consecutive RW ($R_2W_1,R_1W_2$) conflicts while Write-read Skew Committed test case read the newest committed version and executed into non-anomaly schedule ($R_2W_1,W_2C_2R_1$).</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>GPLv3 @ Tencent</p>

      </div>
      
      
      
    </div>
    

    
    
    


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Dependence"><span class="nav-number">1.</span> <span class="nav-text">Dependence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Usage"><span class="nav-number">2.</span> <span class="nav-text">Usage</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Example"><span class="nav-number">3.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Config"><span class="nav-number">4.</span> <span class="nav-text">Config</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Analyze-an-anomaly-case-run-by-PostgreSQL"><span class="nav-number">5.</span> <span class="nav-text">Analyze an anomaly case run by PostgreSQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Setup-PostgreSQL"><span class="nav-number">5.1.</span> <span class="nav-text">Setup PostgreSQL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#License"><span class="nav-number">6.</span> <span class="nav-text">License</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/AxingguChen/3TS" title="gitHub → https:&#x2F;&#x2F;github.com&#x2F;AxingguChen&#x2F;3TS" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>gitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
